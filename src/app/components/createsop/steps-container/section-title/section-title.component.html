<div class="section" [ngClass]="{'collapse':isCollapsed}">
  <div class="section-header" [title]="section_name">
    <div class="section-header-title">
      <div *ngIf="isSectionNameEditable; else editTextBox">{{section_name}}</div>
      <ng-template #editTextBox>
        <input type="text" class="edit-section-name" [(ngModel)]="section_name" placeholder="Section Name" (keydown.enter)="onCheckedSectionName()">
      </ng-template>
    </div>

    <div class="section-header-options">
      <ng-container *ngIf="isSectionNameEditable; else editCreateSection">
        <div class="common-option option-menu">
          <i class="fas fa-ellipsis-h"></i>
        </div>
        <div class="common-option collapsable-btn" (click)="onCollapse()">
          <ng-container *ngIf="!isCollapsed; else down">
            <i class="fas fa-caret-up"></i>
          </ng-container>
          <ng-template #down>
            <i class="fas fa-caret-down"></i>
          </ng-template>
        </div>
      </ng-container>
      <ng-template #editCreateSection>
        <div class="common-option divider-right check-btn" (click)="onCheckedSectionName()">
          <i class="fas fa-check"></i>
        </div>
        <div class="common-option cross-btn" (click)="onRemoveSectionName()">
          <i class="fas fa-times"></i>        
        </div>
      </ng-template>
    </div>

  </div>

  <div class="section-body" cdkDropList (cdkDropListDropped)="drop($event)">
    <ng-container *ngFor="let step of stepParameters; let i=index">
      <div class="steps" cdkDrag>
        <app-steps-container [stepType]="step" [stepIndex]="i" [sectionIndex]="sectionIndex" (delete)="onDeleteStep($event)" (outputChange)="onOutputChange($event)" [sectionId]="sectionId"></app-steps-container>
      </div>
    </ng-container>
    <div class="droppable-area" appDroppable (transferedData)="onDropData($event)" (dragover)="allowDrop($event)">
      Drag & drop steps here
    </div>
  </div>
  
</div>
